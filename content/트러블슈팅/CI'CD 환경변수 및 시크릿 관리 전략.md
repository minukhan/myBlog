
**상황**:

- Spring Boot 앱을 새 버전으로 배포 중 컨테이너가 바로 종료 → DB 연결 실패
- 로그: `java.sql.SQLTransientConnectionException` → 데이터베이스 커넥션 풀 요청 시간 초과

**문제점**:

- CI/CD 파이프라인에서 환경 변수를 전달할 때 특수문자($, @ 등) 처리 실패
- Docker 컨테이너에 전달된 DB 비밀번호가 잘못되어 DB 연결 실패
- 배포 실패 원인을 바로 파악하기 어려움

**해결 방법**:

1. GitHub Actions에서 시크릿 값을 작은따옴표로 감싸 문자열 리터럴로 전달
2. Base64 인코딩 방식으로 시크릿 전달 → 특수문자 처리 문제 회피
3. 장기적 모범 사례: AWS Secrets Manager 사용 → EC2/컨테이너가 직접 시크릿을 가져오도록 IAM 역할 설정

**결과**:

- Docker 컨테이너가 정상적으로 DB 연결
- 배포 실패 원인을 빠르게 파악 가능
- 자동화 파이프라인에서 환경 변수 처리와 보안 관리 중요성 인식
- 이후 모든 기능 배포 시 시크릿 전달 과정과 특수문자 처리에 주의

배운점

- **환경 변수와 시크릿 관리 경험**
    - GitHub Actions, Docker, AWS 환경을 거치며 민감 정보 전달 과정에서 발생할 수 있는 특수문자 문제를 경험.
    - 작은따옴표, Base64 인코딩, AWS Secrets Manager 활용을 통해 안전하고 안정적인 환경 변수 관리를 구현.
    - 이를 통해 자동화 파이프라인에서도 디버깅 시간을 단축하고 배포 안정성을 높임.