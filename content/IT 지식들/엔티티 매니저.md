
> [!note] 먼저 알아야할 것.
> 영속성 컨텍스트로 엔티티를 관리한다. : 이거는 JPA 의 큰 특징임
> 
> 그리고 영속으로 관리한다는 DB에 저장된다는 말이고
> JPA 가 자바 객체를(엔티티) DB 테이블과 매핑해서 다루는 ORM 기술
## "영속"이란?

**영속(persistence)**이란

> _"객체의 상태를 메모리에만 두지 않고, DB에 저장해서 애플리케이션이 꺼져도 유지되도록 만드는 것"_  
> 을 말해요.

## "영속 로직을 수행한다"는 말은?

> **자바 객체를 DB와 연결해서 저장, 수정, 조회, 삭제 등 영속과 관련된 모든 작업을 처리한다는 뜻**입니다.

이 로직은 대부분 **JPA가 내부적으로 처리**해요.  
그리고 이걸 관리하는 주체가 바로 `EntityManager`입니다.

---

### 엔티티 매니저

- 영속성 컨텍스트를 관리하는 핵심 인터페이스
- 애플리케이션과 데이터베이스 사이에서 엔티티의 생명주기 상태를 관리, 데이터 조작
- [[영속성 컨텍스트]]를 도와주는 게 엔티티 매니저
- 엔티티의 상태를 변경하고 영속성 컨텍스트와 상호작용을 하며 영속로직을 수행함.


## 엔티티 매니저가 무슨일하니? 

- ### 상태 관리 (생명주기 제어)
	#### 엔티티는 크게 4가지 상태를 가지고있다.
	
	- 비영속 : DB와 무관한 새 객체
	- 영속 : 영속성 컨텍스트에  의해 관리되는 상태
	- 준영속 : 영속성 컨텍스트에서 분리된 상태
	- 삭제 : 삭제 예정 상태

![](https://i.imgur.com/LxWq3HS.png)


- ### 그 외 기능들
	
	- 쓰기 지연 및 변경 감지
	- 쿼리 실행
	- 트랜잭션과의 연계
	- 1차 개시 관리 

