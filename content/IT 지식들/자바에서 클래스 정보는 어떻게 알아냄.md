
### 자바에서 클래스 정보는 어떻게 알아냄?

- 자바에서 클래스 정보를 가져오기 위해서 Reflection API 를 사용할 수 있다. 
- 어떤 객체가 주어졌을 때 그 객체가 어떤 클래스고, 어떤 메서드가 있고 필드는 뭐고 그런것들을 코드로 직접 탐색할 수 있다고 함. 

```
Class<?> clazz = obj.getClass();  // 객체의 클래스 정보 얻기
Method[] methods = clazz.getDeclaredMethods();  // 클래스가 가진 메서드 정보 얻기
```

> [!note] 정리
> Reflection 은 언제든 집안을 살펴볼 수 있는 열쇠라고 생각
> 편리하지만 사생활 침해, 집 관리가 어려워짐
> 
> 그냥 이런게 있구나 정도만 챙겨가면 될듯. 

- 프레임워크(스프링, 하이버네이트 등)들이 사용하는 이유는, **개발자가 미리 어떤 클래스가 들어올지 몰라도 동적으로 처리할 수 있기 때문**이에요.

## Reflection API의 단점은?

### 2-1. 코드가 복잡해질 수 있다

- 보통 메서드를 호출할 땐 `obj.method()`처럼 간단하지만, 리플렉션은 `Method` 객체를 가져와서 `invoke()`로 호출해야 해서 코딩이 복잡해요.
    
### 2-2. 캡슐화가 깨질 수 있다

- 원래는 `private` 필드나 메서드에 직접 접근하지 못하지만, 리플렉션은 `setAccessible(true)`로 이런 제한을 무시할 수 있어요.
    
- 그래서 객체 내부 구현에 너무 깊이 들어가서 **객체 간 결합도가 강해질 위험**이 있어요.
    
### 2-3. 성능 저하 가능성

- 일반 메서드 호출은 JVM이 최적화를 많이 하지만, 리플렉션 호출은 이런 최적화가 어렵고, 그래서 **메서드 호출 속도가 느려질 수 있어요.**
    
- 하지만 JVM 버전과 상황에 따라 이 차이는 크게 달라질 수 있습니다.

---



