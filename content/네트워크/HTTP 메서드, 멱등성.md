

### 멱등성이란??

- 같은 요청을 N번 보내도 최종 상태는 같은 값을 return 해주는 것. 

##### 분류

- **GET/HEAD/OPTIONS/TRACE**: **Safe**(서버 상태 변경 X) & 멱등
- **PUT/DELETE**: 멱등(한 번 지우나 여러 번 지우나 결과 동일)
- **POST**: 보통 **비멱등**
- **PATCH**: **정의상 비멱등**(패치 내용에 따라 멱등하게 설계 가능)

###  GET과 POST의 차이는 무엇인가요?

- GET
	- 서버의 리소스 조회
	- 멱등함
	- 쿼리 스트링에 파라미터에 포함시켜서 요청
	- 데이터가 URL에 노출되어있다보니, 보안에 취약하다. 
	- 캐싱 가능
	- 길이 제한이 있음
- POST
	- 서버의 리소스 생성 및 수정, 처리
	- 요청 본문에 포함시켜서 요청
	- 데이터가 본문에 담겨져 있으니, 상대적으로 안전함. 
	- 캐싱 안됨.
	- 길이제한 없음.


### POST와 PUT, PATCH의 차이는 무엇인가요?

- 이 메서드 모두 서버의 상태를 변경함, 그러나 범위와, 의도에서 차이가 있음.

- POST
	- 주로 자원을 생성할때 사용.
- PUT
	- 특정 URL의 리소스를 요청 본문의 내용으로 전체 교체를 해버림. 완전히 덮어쓰고 싶을때 사용
	- 만약 일부만 포함시키고 전달하면 나머지 필드는 삭제되거나 기본값으로 초기화될 수 있음.
- PATCH
	- 특정 URL의 일부만 수정한다. 
	- 변경할 필드만 포함하며, 나머지 필드는 유지됨. 

> PUT은 멱등하지만, POST는 멱등하지 않다.
>  PATHC의 멱등성은 연산의 내용에 따라 달라진다고 함. 

### HTTP 1.1 이후로, GET에도 Body에 데이터를 실을 수 있게 되었습니다. 그럼에도 불구하고 왜 아직도 이런 방식을 지양하는 것일까요?

- GET의 근본적인 의미는 조회하는것. 
- 웹 캐시, 프록시 같은 중간 매체들은 GET 요청을 오직 URL을 기준으로 캐싱한다. 본문의 내용이 포함된다면 그거 내용들은 개무시하고 URL로만 캐시 키를 생성해서 잘못된 응답을 할 수 있음.

>[!note] 참고
>그런데 Elasticsearch와 같은 일부 시스템에서는 `GET`과 본문을 함께 사용한다.
>그 이유는 복잡한 검색 쿼리를 URL 파라미터로 표현하는 것 보다 JSON 형식의 본문으로 표현하는게 더 명확하고 강력하기 때문이라고 함. 


  
 

