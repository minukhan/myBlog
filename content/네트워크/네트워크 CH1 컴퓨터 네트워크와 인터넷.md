## 1.1 인터넷이란 무엇인가?

 > [!note] Internet
 > 1. 인터넷을 구성하는 기본적인 하드웨어 & 소프트웨어 구성요소에 대한 기술
 > 2. 분산 애플리케이션에 서비스를 제공하는 네트워킹 인프라스트럭처 관점에서의 인터넷을 기술
 
### 1.1.1 구성 요소로 본 인터넷

![](https://i.imgur.com/v0OBLCM.png)


#### 인터넷 (Internet)

- Network of Network
- 전 세계적으로 수십억 개의 컴퓨팅 장치를 연결하는 컴퓨터 네트워크

여기서 잠깐... 여러분은 Internet과 internet의 차이를 아시나요?

Internet : 인터넷이라는 고유명사 -> **전 세계적으로 수십억 개의 컴퓨팅 장치를 연결하는 컴퓨터 네트워크**
우리가 일반적으로 알고 있는 인터넷, 즉 전 세계적인 글로벌 네트워크 시스템

internet : 단순히 '상호 연결된 네트워크들' 이라는 일반적인 개념을 의미하는 용어
특정 글로벌 시스템을 지칭하지는 않음 -> 다크넷, 인트라넷 등의 네트워크 형태를 말함

우리는 *Internet* 을 공부하는 것이다!!!!!!!!!!!!

#### 호스트(host), 종단시스템(end system)

- 컴퓨터 네트워크에 연결된 컴퓨팅 장치 -> **인터넷에 연결된 모든 장치** 
- 개인장치 : 노트북, 스마트폰, 태블릿 
- 서버 :
	- 넷플릭스, 유튜브, 인스타그램 등의 콘텐츠를 저장하는 강력한 컴퓨터 (서버가 무엇을 하는지에 초점)
	- 데스크탑 PC, 리눅스 워크스테이션 (서버의 물리적/기술적 형태, 서버가 어떤 형태로 존재할 수 있는지)
- `통신 링크(communication link)`와 `패킷 스위치(packet switch)`의 네트워크로 연결됨

즉, 인터넷에 연결되어 정보를 주고받는 모든 기기가 여기에 포함

#### 통신 링크 (communication link)

**데이터가 이동하는 "도로"**
 - 다양한 `전송률(transmission rate, 링크 대역폭 또는 bandwidth)`을 이용해 `패킷(packet = 데이터)`을 전송
	 - 대역폭 : 얼마나 많은 데이터를 한 번에 보낼 수 있는지 나타냄
		 - 마치 도로의 차선 수와 같다고 생각하면 됨 -> 더 많은 차선(대역폭)이 있으면 더 많은 차량(데이터)이 지나갈 수 있다고 생각하기 !!
- 전송률의 단위 (속도 측정) : **bps(bits per second, 초당 비트 수)** -> 100Mbps는 초당 1억 비트를 보낼 수 있음을 의미
- 동축케이블, 구리선, 광케이블, 라디오 스펙트럼을 포함한 다양한 물리 매체로 구성

#### 패킷(packet)

**큰 데이터를 보낼 때 작은 조각으로 나누는 것**을 패킷이라고 함 

- [9] 순서 쉽게 생각하기 !!
- **데이터 분할**: 큰 파일(예: 영화)을 작은 조각(segment)으로 나눔
- **헤더 추가**: 각 조각(segment)에 주소와 순서 정보가 담긴 헤더를 붙임
    - 편지에 주소를 쓰는 것과 비슷하다 생각
- **전송**: 이 작은 조각들을 네트워크를 통해 보냄
- **재조립**: 목적지에서 모든 조각을 원래 파일로 다시 모음  

> 예를 들어, 넷플릭스에서 영화를 볼 때, 영화 파일은 수천 개의 작은 패킷으로 나뉘어 우리의 기기로 전송되고, 우리의 기기에서 다시 영화로 조립됨

- 송신 종단 시스템에서 수신 종단 시스템(목적지)으로 보내짐
- 송신 종단 시스템이 **보내고자 하는 데이터를 `세그먼트(segment)`로 나누고**, 각 세그먼트에 `헤더(header)`를 부착하여 수신 종단 시스템으로 전송
- 패킷은 **목적지에서 원래의 데이터로 다시 조립

[![패킷](https://user-images.githubusercontent.com/86337233/210068063-a8ef4bad-6b44-4d54-8975-7488c2b0acd6.png)](https://user-images.githubusercontent.com/86337233/210068063-a8ef4bad-6b44-4d54-8975-7488c2b0acd6.png)  

#### 패킷 교환기, 패킷 스위치(packet switch)

**패킷이 올바른 목적지로 갈 수 있도록 도와주는 교통 경찰** 같은 장치

 - [ ] 순서 쉽게 생각하기 ~_~
1. **패킷 수신**: 여러 경로에서 오는 패킷을 받음
2. **방향 결정**: 각 패킷의 헤더를 읽고 어디로 가야 하는지 결정
3. **패킷 전달**: 최종 목적지를 향해 적절한 경로로 패킷을 전달

- 입력 통신 링크 중 하나
- 도착하는 패킷을 받아서 출력 통신 링크의 하나로 그 패킷을 전달 **(최종 목적지 방향으로 패킷을 전달)**
- 대표적인 두 종류
    - `링크 계층 스위치(link-layer switch)` : 보통 접속 네트워크에서 사용 = 주로 로컬 네트워크에서 작용 (가정이나 사무실 내)
    - `라우터(router)` : 보통 네트워크 코어에서 사용 -> 인터넷의 "고속도로 교차로"처럼 작동하여 패킷을 다른 네트워크로 전달

> [!example] router
> 라우터는 서로 다른 네트워크들을 연결하고, 데이터 패킷이 출발지에서 목적지까지 가는 최적의 경로를 찾아 전달하는 네트워크 장치
> 
> 구체적 예시 : 
> - 우리가 유튜브 동영상을 시청하려고 한다고 가정
> - 우리의 요청 데이터는 먼저 가정용 라우터에 도달
> - 가정용 라우터는 이 요청을 인터넷 서비스 제공업체(ISP)의 라우터로 전달
> - ISP의 라우터는 다시 이 요청을 인터넷 백본의 더 큰 라우터들을 통해 전달
> - 최종적으로 유튜브의 서버에 연결된 라우터에 도달
> - 응답 즉, 동영상 데이터는 같은 경로를 역순으로 따라 우리의 기기로 돌아옴 !!
> 
> 네트워크 코어에서 라우터가 중요한 이유 : 인터넷이 수많은 독립적인 네트워크들로 구성되어있기 때문
> 라우터는 이러한 **서로 다른 네트워크들을 연결하고, 데이터가 네트워크 경계를 넘어 효율적으로 이동할 수 있게 해주는 핵심 장치**임 !!!!!!!!!

여기서 백본 : 랜에서 광역통신망(WAN)으로 연결하기 위한 하나의 회선 또는 여러 회선의 모음을 말합니다.

#실생활
전체 시스템을 우편 서비스로 생각해보자.
- **호스트/종단 시스템**: 편지를 보내고 받는 사람들의 집
- **패킷**: 배달되는 편지들
- **통신 링크**: 우편 트럭이 다니는 도로 (더 넓은 도로 = 더 많은 대역폭)
- **패킷 스위치**: 우체국 분류 센터 (편지를 받아서 올바른 방향으로 보냄)

이렇게 모든 구성요소가 함께 작동하여 우리가 이메일을 보내거나, 동영상을 시청하거나, 웹사이트를 방문할 수 있게 해주는 것임

#### 경로(route, path)

경로는 **데이터가 출발지에서 목적지까지 여행하는 길**

#쉬운비유
- 친구에게 편지를 보내는 상황
- 편지는 우체통 → 지역 우체국 → 분류 센터 → 목적지 우체국 → 친구의 집으로 이동
- 인터넷에서 데이터 패킷도 이와 비슷한 여정을 거침
#실제작동방식
1. 웹사이트를 방문하면, 데이터 요청이 패킷 형태로 만들어짐
2. 이 패킷은 먼저 가정용 라우터로 이동
3. 그 다음 인터넷 서비스 제공업체(ISP)의 네트워크로 이동
4. 여러 라우터와 스위치를 거쳐 웹 서버가 있는 곳에 도달
5. 서버가 응답(웹페이지 데이터)을 보내면 이 데이터도 비슷한 경로를 통해 돌아옴

중요한 점은 패킷이 항상 같은 경로를 따르지 않을 수 있다는 것
네트워크 상황에 따라 *다른 경로를 택할 수 있음

--
- 패킷이 송신 종단 시스템에서 보내진 후 **수신 종단 시스템에 도달하는 동안 거쳐온** 일련의 통신 링크와 패킷 스위치를 말함
- **패킷은 컴퓨터 네트워크를 통한 경로를 따름


#### ISP(Internet Service Provider)

쉽게 말해 **ISP는 인터넷 연결 서비스를 제공하는 회사**
우리나라에서는 그냥 SKT LG KT → 통신사 : Internet Service Provider 인터넷 서비스를 제공해주는 놈들
커넥티드 된 것들이 인터넷 !!

*주요 역할
1. **인터넷 접속 제공**: 가정, 기업, 모바일 사용자에게 인터넷 연결을 제공
2. **인프라 운영**: 라우터, 스위치, 서버, 케이블과 같은 네트워크 장비 운영
3. **CP 연결**: 넷플릭스, 유튜브 같은 콘텐츠 제공자(CP)가 자신의 서버를 인터넷에 연결할 수 있게 해줌

*ISP의 계층 구조
- **Tier 1 ISP**: 글로벌 네트워크를 가진 대형 ISP로, 전 세계적인 백본 네트워크를 운영 (예: AT&T, NTT, 텔리아소네라)
- **Tier 2 ISP**: 지역 또는 국가 수준의 ISP로, Tier 1 ISP에 연결됨
- **Tier 3 ISP**: 최종 사용자에게 직접 서비스를 제공하는 로컬 ISP (예: 한국의 KT, SKT, LG U+).


--

- 패킷 스위치와 통신 링크로 이루어진 네트워크
- 종단 시스템에게 다양한 네트워크 접속을 제공 (가정용 초고속 접속, 고속 LAN 접속, 이동 무선 접속 등)
- CP(content provider)에게 인터넷 접속을 제공 → 웹 사이트나 비디오 서버를 인터넷에 직접 연결할 수 있게 됨
- ISP들의 상호 연결
    
     💡 인터넷은 종단 시스템을 서로 연결하는 것이므로 **종단 시스템에 접속을 제공하는 ISP들도 서로 연결되어야만 함
    
    - 하위 계층 ISP는 국가 & 국제 상위 계층 ISP를 통해 서로 연결 - 상위 계층 ISP들은 서로 직접 연결
    - 각 ISP 네트워크는 따로 관리되고, IP 프로토콜을 수행하며, 네이밍(naming)과 주소배정 방식을 따름

--
**ISP 상호 연결의 중요성:** 인터넷이 제대로 작동하려면 모든 ISP가 서로 연결되어야 함!!!!! 이렇게 해야 세계 어디에서나 모든 웹사이트와 서비스에 접근할 수 있음

예를 들어:
- KT 인터넷을 사용하는 사람이 SKT의 서버에 호스팅된 웹사이트에 접속하려면, KT와 SKT 네트워크 사이에 연결이 있어야 함
- 이 연결은 직접 또는 상위 ISP를 통해 이루어짐
  

#### 프로토콜(protocol)

프로토콜은 **네트워크에서 데이터 교환 방법을 정의하는 규칙**

#쉬운비유 
- 프로토콜은 사람들이 대화할 때 따르는 예절과 같음
	- 대화를 시작하려면 인사를 하고(연결 설정), 
	- 상대방이 말을 마칠 때까지 기다리고(데이터 전송), 
	- 대화가 끝나면 작별 인사를 함(연결 종료).

--
- 인터넷에서 정보의 송수신을 제어
- 가장 중요한 프로토콜 둘을 통칭하여 **TCP/IP**라고 함
    - `TCP(Transmission Control Protocol)`
    - `IP(Internet Protocol)` : 라우터와 종단 시스템 사이에서 송수신되는 패킷 포맷을 기술

--
> [!important] 주요 프로토콜
> **TCP/IP**: 인터넷의 기본 통신 언어
> - **TCP(Transmission Control Protocol)**:
   > 	- 데이터를 작은 패킷으로 나누어 보내고, 목적지에서 다시 조립함
>	- *모든 데이터가 순서대로, 오류 없이 도착하도록 보장*
>	- 웹 브라우징, 이메일 등 신뢰성이 중요한 서비스에 사용
> - **IP(Internet Protocol)**:
   > 	- 패킷의 형식과 주소 지정 방법을 정의
  > 	- 각 장치에 *고유한 주소(IP 주소)*를 할당
   > 	- 패킷이 네트워크를 통해 올바른 목적지로 이동할 수 있게 함
>  
>  
> **HTTP/HTTPS**: 웹 페이지 전송을 위한 프로토콜
> 
>  **DNS**: 도메인 이름(예: google.com)을 IP 주소로 변환하는 프로토콜
>  
> **SMTP**: 이메일 전송 및 수신을 위한 프로토콜
  

#### 표준 Standards 

서로 다른 제조사의 장비와 소프트웨어가 **호환되도록 보장하는 합의된 규칙**

- IETF(Internet Engineering Task Force)
    - 국제 인터넷 표준화 기구
    - RFC(Requests for Comment) : IETF 표준 문서
    - TCP, IP, HTTP, SMTP 같은 프로토콜을 정의
- IEEE 802 LAN 표준위원회
	- 주로 물리적 네트워크와 관련된 표준을 개발
	-  이더넷과 무선 와이파이 표준을 기술


802.11g : WIFI 802.15 : 블루투스 802.3 : IEEE 이더넷 (이게 보통 데이터링크 계층)
다들 **IEEE 802.3** -> 이더넷 은 잘 알아두자...!!!!!!!


### 1.1.2 서비스 측면에서 본 인터넷
#### 인터넷은 애플리케이션에 서비스를 제공하는 Infrastructure

 애플리케이션은 서로 데이터를 교환하는 많은 종단 시스템을 포함하고 있기 때문에 `분산 애플리케이션(distributed application)`이라고 부름
 
 -  인터넷에서 작동하는 애플리케이션들은 *분산 애플리케이션* 이라고 불림 -> 이게 무슨 의미일까??

	#쉬운설명
	- 분산 애플리케이션은 여러 다른 장치(컴퓨터, 스마트폰 등)에 걸쳐 동작하는 프로그램
	- 예를 들어, 카카오톡을 생각해보자 :
	    - 우리의 메시지는 우리의 폰에서 시작
	    - 카카오 서버를 통과
	    - 그 후에 친구의 폰에 도착
	- 이렇게 여러 장치에 걸쳐 작동하기 때문에 '분산'이라고 부르는 것
		
	#다른예시들
	- 웹 브라우징: 우리의 브라우저와 웹 서버 간의 상호작용
	- 이메일: 이메일 클라이언트와 메일 서버 간의 통신
	- 넷플릭스 스트리밍: 우리의 기기와 넷플릭스 서버 간의 데이터 교환


 > 🌸 **인터넷 애플리케이션은 종단 시스템에서 수행되며**, 네트워크 코어에 있는 패킷 교환기에서 수행되지 않는다는 말은 무슨 뜻??
 
종단 시스템에서의 애플리케이션 실행
-> 중요한 점은 **인터넷 애플리케이션이 종단 시스템에서만 실행된다**는 것
즉, 실제 프로그램 코드가 처리되는 위치는 오직 사용자 기기와 서버에서만 일어난다는 뜻
	뭐 유튜브 앱이 동영상을 재생하는 작업, 게임 서버가 게임 상태를 계산하는 작업, 웹브라우저가 웹페이지를 렌더링하는 작업 등

**종단 시스템이란?**
- 사용자의 기기(컴퓨터, 스마트폰, 태블릿)
- 서버(웹 서버, 이메일 서버, 게임 서버 등)

**네트워크 코어는 애플리케이션을 실행하지 않음 !!!!!**
- 라우터와 스위치 같은 패킷 교환기는 **데이터 전달에만 집중**
- 이들은 우체부처럼 작동 -> 편지의 내용(데이터)에는 관심이 없고, 단지 올바른 주소로 전달하는 것만 책임짐
- 패킷 교환기는 "이 데이터가 웹 브라우징용인지, 이메일용인지, 게임용인지" 신경 쓰지 않음
	💡 **패킷 교환기**는 종단 시스템 간의 데이터 교환을 쉽게 해주지만, **데이터의 시작과 끝인 애플리케이션에는 관심을 갖지 않음**

	- 단순히 데이터 패킷을 한 장소에서 다른 장소로 전달하는 역할만. only.
	- 패킷의 내용을 해석하거나 처리 X
	- 웹 서핑, 이메일 전송, 동영상 스트리밍 같은 기능을 "실행" XXX

#### 소켓 인터페이스(socket interface)

```
Q.
한 종단 시스템에서 수행되는 애플리케이션이 다른 종단 시스템에서 수행되고 있는 프로그램으로 데이터를 보내도록 하기 위해서는 인터넷에 어떻게 지시할 것인가?
= 한 종단 시스템의 프로그램이 다른 종단 시스템의 프로그램에게 데이터를 보내려면 어떻게 해야 할까?
```
--
한 종단 시스템에서 수행되는 프로그램이 다른 종단 시스템에서 수행되는 특정 목적지 프로그램으로 데이터를 전달하도록  
**어떻게 인터넷 인프라스트럭처에 요구하는지**를 명시한 것을 `소켓 인터페이스`라고 한다.

→ 인터넷에 접속된 종단 시스템들은 소켓 인터페이스를 모두 가지고 있다.

--
이때 소켓 인터페이스가 등장

**소켓 인터페이스란:**
- 애플리케이션이 인터넷과 통신하기 위한 "출입구" 또는 "문"
- 애플리케이션과 네트워크 사이의 API(Application Programming Interface)

#실생활비유
- 소켓은 우체통과 같음
- 내(애플리케이션)가 친구에게 편지(데이터)를 보내고 싶을 때:
    - 편지를 작성(데이터 준비).
    - 봉투에 친구의 주소를 적음(목적지 정보 추가).
    - 우체통(소켓)에 편지를 넣음
    - 우편 시스템(인터넷)이 알아서 배달

#실제작동방식
1. 애플리케이션이 데이터를 소켓에 전달
2. 소켓에는 목적지 정보(IP 주소와 포트 번호)가 포함됨
3. 운영체제의 네트워크 스택이 이 데이터를 받아 패킷으로 만듦
4. 패킷은 인터넷을 통해 목적지로 전송
5. 목적지 컴퓨터의 소켓이 이 데이터를 받아 해당 애플리케이션에 전달

#중요특징
- 모든 인터넷 연결 장치는 소켓 인터페이스를 가지고 있음
- 소켓 인터페이스는 애플리케이션 개발자가 네트워크의 복잡한 내부 작동 방식을 알 필요 없이 네트워크 기능을 사용할 수 있게 해줌
>💡 소켓 인터페이스는 **송신 프로그램이 따라야 하는 규칙의 집합**이며, 인터넷은 이 규칙에 따라 데이터를 목적지 프로그램으로 전달하게 된다.
- 소켓은 **"규칙의 집합"** - 애플리케이션이 이 규칙을 따르면 인터넷은 데이터를 목적지로 전달해줌

### 1.1.3 프로토콜이란 무엇인가?

둘 이상의 통신 개체(entity)가 어떤 일을 함께 수행하려면 이들이 다같이 인식하는 **프로토콜** 즉, **통신 규약**이 필요
프로토콜은 **통신을 위한 규칙의 집합**
쉽게 말해서, 서로 대화하기 위한 "약속된 방식"이라고 생각하면 편함

아래의 그림은 사람 프로토콜과 컴퓨터 네트워크 프로토콜을 나타낸 것

[![인터넷의 구성 요소](https://user-images.githubusercontent.com/86337233/210089593-aff053d6-b57c-45c4-ad06-f209a11a0e3a.png)](https://user-images.githubusercontent.com/86337233/210089593-aff053d6-b57c-45c4-ad06-f209a11a0e3a.png)

**일상생활의 프로토콜 예시:**
- 전화 통화 시: "여보세요" → 대화 → "안녕히 계세요"
- 회의에서: 발언권 요청 → 발언 → 질의응답
- 운전할 때: 신호등, 교통 표지판 준수
#### 왜 프로토콜이 필요한가?

상상 ㄱㄱ
- 네가 한국어로 "안녕하세요"라고 말했는데, 상대방은 "안녕하세요"가 무슨 의미인지 모름
- 네가 빨간 신호등에 멈추었는데, 다른 운전자는 빨간 신호등이 "더 빨리 가라"는 의미라고 생각함
-> 응 말도안돼
이런 상황에서는 효과적인 통신이 불가능하고 혼란과 사고가 발생할 수 있엄
프로토콜은 이러한 혼란을 방지하기 위해 존재

--
- 메세지의 송수신과 메시지를 송수신할 때 취하는 행동은 프로토콜의 중심에 있다.
- 따라서 하나가 다른 프로토콜을 수행한다면 그 프로토콜은 다른 이들과 상호작용할 수 없으며, 원하는 작업을 수행할 수 없다.
--
  

#### 네트워크 프로토콜

- 통신하는 둘 이상의 원격 개체가 포함된 **인터넷에서의 모든 활동은 프로토콜이 제어한다.**
- e.g.,
    - `혼잡 제어(congestion-control) 프로토콜` : 종단 시스템에 존재하며, 송수신자 간에 전송되는 패킷 전송률을 조절한다.
    - 라우터에서의 프로토콜 : 출발지(source)에서 목적지(destination)까지의 패킷 경로를 설정한다.

> 💡 프로토콜은 둘 이상의 통신 개체 간에 교환되는 메시지 포맷과 순서뿐만 아니라, 메시지의 송수신과 다른 이벤트에 따른 행동들을 정의한다.


인터넷에서는 다양한 기기들이 서로 통신해야함
이들이 효과적으로 통신하기 위해서는 공통된 언어와 규칙이 필요

**프로토콜이 정의하는 세 가지 핵심 요소:**
1. **메시지 형식**: 데이터가 어떻게 구성되는지 (구조, 필드, 비트 배열 등)
2. **메시지 순서**: 메시지가 어떤 순서로 교환되어야 하는지
3. **행동 규칙**: 메시지를 받았을 때 어떻게 반응해야 하는지


#### 인터넷 프로토콜의 예시

##### TCP (Transmission Control Protocol)
- **목적**: 데이터를 안정적으로 전송
- **메시지 형식**: 헤더(출발지/목적지 포트, 시퀀스 번호 등) + 데이터
- **메시지 순서**:
    1. 연결 설정(3-way handshake): SYN → SYN-ACK → ACK
    2. 데이터 전송: 데이터 패킷 → 확인 응답(ACK)
    3. 연결 종료(4-way handshake)
- **행동 규칙**:
    - 패킷 손실 시 재전송
    - 혼잡 발생 시 전송 속도 조절

##### 혼잡 제어 프로토콜 (TCP의 일부)

이것은 네트워크가 과부하되지 않도록 데이터 전송 속도를 조절하는 규칙입니다.

**작동 방식:**

1. 처음에는 천천히 데이터를 보내기 시작
2. 문제 없이 전송되면 점차 속도 증가
3. 패킷 손실이 감지되면 "네트워크가 혼잡하다"고 판단하고 속도 감소
4. 이 과정을 반복하며 최적의 전송 속도 유지

이것은 마치 고속도로에서 운전하는 것과 비슷합니다:

- 처음에는 천천히 가다가
- 도로가 비어 보이면 속도를 높이고
- 교통 체증이 보이면 속도를 줄입니다

> [!important] 얘네도 중요하니까 알아서 잘 공부하시긔 (사실 저도 해야해염)
> - **흐름 제어(Flow Control)**: 송신자가 수신자의 처리 능력을 초과하는 속도로 데이터를 전송하지 않도록 조절 -> 해결 방법 : stop & wait (현실에서 쓰진 않음) (2. Go back N 3. Selective Repeat) -> sliding window
> - **혼잡 제어(Congestion Control)**: 네트워크 자체의 과부하를 방지하기 위해 데이터 전송 속도를 조절
>- **순서 제어(Sequence Control)**: 패킷이 순서대로 도착하지 않을 경우, 원래 순서대로 재구성
>- **에러 제어(Error Control)**: 손상되거나 유실된 패킷을 감지하고 재전송

##### 라우팅 프로토콜 (예: BGP, OSPF)

라우터들이 패킷을 어디로 보낼지 결정하는 규칙

**작동 방식:**
1. 라우터들은 서로 네트워크 정보를 교환
2. 이 정보를 바탕으로 '라우팅 테이블'이라는 지도 생성
3. 패킷이 도착하면 목적지까지 가는 최적 경로 선택
4. 네트워크 상황이 변하면 정보를 업데이트하고 경로 재계산

이것은 내비게이션 앱과 유사:
- 도로 상황 정보를 수집하고
- 최적의 경로를 계산하며
- 교통 상황이 변하면 경로를 재조정

#### 프로토콜이 일치하지 않으면 어떻게 될까?

두 기기가 다른 프로토콜을 사용하면:
- 메시지 형식이 달라 내용을 이해할 수 없음
- 메시지 순서가 달라 대화 흐름이 깨짐
- 행동 규칙이 달라 예상치 못한 반응 발생

예를 들어:
- 한 기기는 TCP를 사용하는데 다른 기기는 UDP를 사용한다면
- 한 라우터는 IPv4를 사용하는데 다른 라우터는 IPv6만 지원한다면

이런 상황에서는 효과적인 통신이 불가능

### 요약

1. **프로토콜은 통신을 위한 규칙의 집합**
2. 프로토콜은 **메시지 형식, 순서, 행동 규칙**을 정의
3. 인터넷의 **모든 활동은 프로토콜이 제어**
4. 같은 프로토콜을 사용해야만 기기들이 서로 이해하고 통신할 수 있음!!
5. 다양한 목적에 맞는 다양한 프로토콜이 존재(TCP, IP, HTTP, DNS 등)


## 1.2 네트워크의 가장자리 (접속 네트워크)

알아서 잘 읽으시고 정리하시긔... 이거 솔직히 물리적 파트??라 잘 모르겠음

그나마 중요하다고 판단한 부분
### 기업(그리고 가정) 접속
#### LAN(Local Area Network)

LAN은 가정이나 기업 내에서 컴퓨터와 같은 종단 시스템(end system)을 가장자리 라우터에 연결하는 네트워크
쉽게 말해, 우리의 집이나 회사 내부에서 컴퓨터들을 서로 연결하고, 이를 통해 인터넷에 접속할 수 있게 해주는 네트워크

- **종단 시스템을 가장자리 라우터에 연결**하는 데 사용된다.
- 여러 유형의 LAN 기술 중, `이더넷 기술`이 기업, 대학, 홈 네트워크에서 가장 널리 사용되는 접속 기술

아래는 전형적인 홈 네트워크를 나타낸 그림이다.

[![전형적인 홈 네트워크](https://user-images.githubusercontent.com/86337233/210128487-b8acdbb2-62e6-40c0-b74a-0bf173312dbc.png)](https://user-images.githubusercontent.com/86337233/210128487-b8acdbb2-62e6-40c0-b74a-0bf173312dbc.png)  
  

#### 이더넷 **(Ethernet)**


[![이더넷 인터넷 접속](https://user-images.githubusercontent.com/86337233/210128501-ff9fe3a4-bd45-408d-83e8-9d43f730cbbe.png)](https://user-images.githubusercontent.com/86337233/210128501-ff9fe3a4-bd45-408d-83e8-9d43f730cbbe.png)

- 이더넷 스위치에 연결하기 위해 `꼬임쌍선`을 이용 _(꼬임 쌍선은 1.2.2절에서 설명)_
- 이더넷 스위치 혹은 상호연결된 스위치들의 네트워크는 다시 더 큰 인터넷으로 연결된다.
	- **꼬임쌍선(Twisted Pair) 케이블**: 이더넷에서는 주로 꼬임쌍선이라는 케이블을 사용합니다. 이 케이블은 전선을 두 개씩 꼬아서 만들어, 외부 간섭을 줄이고 통신 품질을 높입니다.
	- **이더넷 스위치(Ethernet Switch)**: 꼬임쌍선 케이블을 통해 컴퓨터나 기기들은 이더넷 스위치에 연결됩니다. 스위치는 데이터를 받아서 올바른 목적지로 전달하는 역할을 합니다.
	- **네트워크 확장**: 이러한 스위치들이 서로 연결되어 더 큰 네트워크를 구성하고, 최종적으로 인터넷에 연결됩니다.  

### 무선 랜(wireless LAN) 환경

점차 사람들은 인터넷을 ‘사물(스마트폰, 태블릿 등)’에서 **무선으로** 접속하고 있음 
스마트폰, 태블릿 등을 통해 무선으로 인터넷에 접속하는 경우가 많아졌음

- 무선 랜 환경에서 무선 사용자들은 기업 네트워크에 연결된 `AP(Access Point)`로 패킷을 송•수신
- AP는 유선 네트워크에 다시 연결
- `와이파이(WiFi)` : IEEE 802.11 기술에 기반한 무선 랜 접속

- **AP(Access Point)**: 무선 LAN에서는 사용자들이 AP라는 장치를 통해 네트워크에 접속합니다. 흔히 '공유기'라고 부르는 장치가 이에 해당합니다.
- **와이파이(WiFi)**: 일반적으로 와이파이라고 부르는 기술은 IEEE 802.11 표준을 따르는 무선 LAN 접속 기술입니다. 이 기술 덕분에 케이블 없이도 인터넷에 접속할 수 있게 되었음
- **유선 연결**: AP는 다시 유선 네트워크에 연결되어, 최종적으로 인터넷에 접속하게 됩니다.

> *일반적인 홈 네트워크 구성*
> - 인터넷 서비스 제공업체(ISP)로부터 인터넷 회선이 집으로 들어옵니다.
> - 이 회선은 모뎀(또는 공유기)에 연결됩니다.
> - 공유기는 AP 역할을 하여 무선으로 기기들을 연결하고, 동시에 이더넷 포트를 통해 유선으로 컴퓨터나 다른 기기들을 연결할 수 있게 합니다.
> - 이렇게 연결된 기기들은 모두 인터넷에 접속할 수 있게 됩니다.


## 1.3 네트워크 코어

1.2절의 종단 시스템을 연결하는 **패킷 스위치와 링크의 그물망(mesh)** 에 대하여 살펴보도록 하자
아래 그림에서의 굵은 선들은 네트워크 코어를 나타낸 것

[![네트워크 코어](https://user-images.githubusercontent.com/86337233/210137238-bf8d10d3-ef09-4263-9339-7fedbb2d619e.png)](https://user-images.githubusercontent.com/86337233/210137238-bf8d10d3-ef09-4263-9339-7fedbb2d619e.png)  
  

**링크와 스위치의 네트워크를 통해 데이터를 이동시키는** 두 가지 기본 방식
1. `패킷 교환(packet switching)` : 보장되지 않는 (e.g., 인터넷)
	- 데이터를 작은 단위인 '패킷'으로 분할하여 전송합니다
	- 각 패킷은 독립적으로 목적지까지의 경로를 찾아 이동합니다
	- 패킷마다 출발지와 목적지 주소, 순서 번호 등의 정보를 포함한 헤더가 붙습니다

	특징
	- **자원 공유**: 여러 사용자가 동일한 네트워크 자원을 공유합니다
	- **비연결성**: 통신 전에 경로를 미리 설정하지 않습니다
	- **가변 지연**: 네트워크 상태에 따라 전송 시간이 달라질 수 있습니다
	- **효율적인 대역폭 사용**: 필요할 때만 대역폭을 사용합니다
	- **보장되지 않는 서비스**: QoS(Quality of Service)가 기본적으로 보장되지 않습니다
	
2. `회선 교환(circuit switching)` : 자원을 예약 → 보장된
	- 통신 시작 전에 출발지부터 목적지까지의 전용 경로(회선)를 설정합니다
	- 통신이 완료될 때까지 이 경로는 독점적으로 사용됩니다
	- 통신이 끝나면 설정된 경로를 해제합니다

	 특징
	- **전용 자원**: 통신 중에는 할당된 대역폭을 독점적으로 사용합니다
	- **연결 지향적**: 통신 전에 반드시 연결을 설정해야 합니다
	- **일정한 지연**: 경로가 고정되어 있어 지연 시간이 일정합니다
	- **보장된 서비스**: 대역폭과 지연 시간이 보장됩니다
	- **자원 낭비 가능성**: 통신하지 않는 동안에도 자원이 할당되어 있습니다

![](https://i.imgur.com/9nKGnwJ.png)

나머지는 알아서 잘 읽고 공부하시길.. 근데 중요한 부분인가요? ㅠㅅㅠ
도저히 설명할 자신이...


왜 패킷교환을 많이 사용할까??
많은 사용자들의 유입이 가능함!!!
-> 좀 더

### 1.3.3 네트워크의 네트워크
#### 인터넷의 계층 구조

##### 1계층 ISP (Tier-1 ISP)
- 약 12개 정도의 거대 네트워크 사업자들로 구성됩니다 (예: AT&T, NTT, Deutsche Telekom 등)
- 전 세계적인 범위를 커버하는 광범위한 네트워크 인프라를 보유하고 있습니다
- 이들은 서로 직접 연결되어 있어 '피어링(peering)' 관계를 형성합니다
- 피어링 관계에서는 일반적으로 트래픽 교환에 대한 금전적 정산이 없습니다

##### 2계층 및 3계층 ISP (하위 계층 ISP)
- 수십만 개의 중소 규모 ISP들이 여기에 해당합니다
- 2계층 ISP는 일부 피어링 관계를 가질 수 있지만, 주로 1계층 ISP에게 비용을 지불하고 서비스를 받습니다
- 3계층 ISP는 보통 지역적 범위에서 서비스를 제공하며, 상위 계층 ISP에게 '트랜짓(transit)' 비용을 지불합니다

##### 트래픽 흐름과 비용 구조
- 최종 사용자 → 하위 계층 ISP → 상위 계층 ISP 순으로 비용을 지불하는 구조입니다
- 하위 계층 ISP는 최종 사용자에게 인터넷 접속 서비스를 제공하고 요금을 받습니다
- 동시에 상위 계층 ISP에게는 글로벌 인터넷 연결을 위한 비용을 지불합니다


## 1.4 패킷 교환 네트워크에서의 지연, 손실과 처리율

패킷교한을 왜 써야하나???
-> 지연 손실 처리 어떻게???
패킷교환 -> 회선교환과 다르게 패킷을 쪼개서 가용할 수 있을 때마다 전용선 두는게 아니라 필요할때마다 사용하는 방식

어떤식으로 지연이 될 수 있는가?
1. 프로세싱 딜레이 (처리 지연 시간)
2. 큐잉 지연 시간 (어떤 라우터에서 다음 라우터로 갔을 때 들어오는건 빠른데 나가는게 느려 -> 줄을 기다리는 시간 ㅇㅇ) 큐에 저장해놓고 데이터에 처리하는 시간
	큐가 유한하기 때문에 용량이 존재하고... 이미 다 차있으면 데이터 못받음
3. 전송 지연 -> 처리는 했는데 처리한 거에 대해 실제로 넘기는것 다음 라우터로 넘기기 위해서 회선에다가 부여넣는거지. 대역폭에 넘기는데 시간이 좀걸림 실제로 데이터를 비트로 밀어내는 시간
4. 전파지연 -> 물리적인 지연 (서울에서 미국까지 보내는 지연 시간) 물리적인 거리에 대한 문제다

LAN에서 보내느냐, 대역폭이 얼마냐???
전체 노드 지연 : 4가지를 다 포함한 딜레이
이 부분에 대해서 우리가 정확히 알 바는 아니지만 내부적으로 어떻게 돌아가는지 알 수 있어야 api 속도 높이고 최적화를 잘해야함 ...


## 1.5 프로토콜 계층과 서비스 모델

### 1.5.1 계층구조

계층구조는 크고 복잡한 시스템의 잘 정의된 특정 부분을 논의할 수 있게 해주며, 이러한 단순화는 매우 중요함

시스템이 계층구조를 가질 때, 그 계층이 제공하는 서비스의 구현을 변경하는 것도 매우 쉬움
어떤 한 계층의 구현이 변하더라도 **시스템의 나머지 부분은 변하지 않는다는 것!!**

> 💡 계층구조의 각 계층은 **(1) 그 계층에서 어떤 동작을 취하고 (2) 그 계층 바로 아래 계층 서비스를 사용**함으로써 서비스를 제공한다.


#### 프로토콜 계층화 
##### 계층 구조의 기본 원리
- 각 계층은 특정 기능을 담당
- 각 계층은 자신만의 동작을 수행하거나 바로 아래 계층의 서비스를 활용
- 한 계층의 변경이 다른 계층에 영향을 미치지 않음 (유지보수 용이)

네트워크 프로토콜의 설계 구조를 제공하기 위해,  
네트워크 설계자는 프로토콜(프로토콜을 구현하는 네트워크 하드웨어와 소프트웨어)을 `계층(layer)`으로 조직한다.

즉, **각각의 프로토콜은 한 계층에 속하며**, 프로토콜 계층은 소프트웨어, 하드웨어 또는 둘의 통합으로 구현할 수 있다.

- 한 계층은 상위 계층에 제공하는 **서비스(service)** 에 관심을 갖고, 이것을 계층의 `서비스 모델(service model)`이라고 한다.
- **각 계층은 그 계층 내부에서 어떤 동작을 수행하거나, 직접 하위 계층의 서비스를 사용한다.**

이러한 다양한 계층의 프로토콜을 합하여 `프로토콜 스택(protocol stack)`이라고 한다.

#### 인터넷 프로토콜 스택 5계층
##### 1. 물리(Physical) 계층

이 계층은 **실제 데이터 비트를 전송 매체로 변환하는 역할**을 합니다.

**쉬운 예시:** 전화선이나 광케이블을 통해 0과 1을 전기 신호나 빛으로 변환하여 보내는 것과 같습니다. 컴퓨터는 데이터를 0과 1로 표현하는데, 이것을 전선을 통해 보내려면 전기 신호로 바꿔야 합니다.

**주요 특징:**
- 비트(0,1)를 전기 신호, 빛, 전파 등으로 변환
- 케이블, 허브, 리피터 등의 장비가 이 계층에서 동작
- 데이터의 의미는 고려하지 않고 단순히 신호 전달만 담당

##### 2. 링크(Link) 계층

이 계층은 **직접 연결된 두 기기 사이의 신뢰할 수 있는 데이터 전송**을 담당합니다.

링크 계층 패킷 = `프레임(frame)`

**쉬운 예시:** 당신이 친구에게 편지를 봉투에 담아 전달하는 것과 같습니다. 물리 계층이 종이에 글자를 쓰는 방법이라면, 링크 계층은 편지를 봉투에 넣고 주소를 쓰는 과정입니다.

**주요 특징:**

- 데이터를 '프레임'이라는 단위로 포장
- 오류 감지 및 수정
- MAC 주소를 사용하여 근거리 통신망(LAN) 내에서 기기를 식별
- 이더넷, WiFi 프로토콜이 이 계층에서 동작
- 스위치가 이 계층의 대표적인 장비

##### 3. 네트워크(Network) 계층 = IP계층

💡 한 호스트에서 다른 호스트로 `데이터그램(datagram, IP의 전송 단위)`을 라우팅하는 책임을 진다.

이 계층은 **서로 다른 네트워크 간에 데이터를 라우팅**하는 역할을 합니다.
-> 출발지와 목적지 간 일련의 패킷 스위치(인터넷에서는 라우터)를 통해 데이터그램을 라우트함

**쉬운 예시:** 당신이 보낸 편지가 우체국에서 다른 지역으로 배송되는 과정과 같습니다. 어떤 경로로 보낼지 결정하고, 목적지까지 가는 최적의 경로를 찾습니다.

**주요 특징:**
- IP 주소를 사용하여 전 세계 어디에 있는 기기든 찾아갈 수 있게 함
- 데이터그램(패킷)이라는 단위로 데이터 전송
- 라우터가 이 계층의 대표적인 장비
- IP 프로토콜이 이 계층의 핵심 프로토콜

> 인터넷 네트워크 계층은 **라우팅 프로토콜**을 포함한다.

- `라우팅 프로토콜`은 출발지와 목적지 사이에서 데이터그램이 이동하는 경로를 결정한다.
- 인터넷은 네트워크의 네트워크이며, 한 네트워크 내부에서 네트워크 운용자는 **원하는 어떠한 라우팅 프로토콜이라도 수행할 수 있다.**

##### 4. 트랜스포트(Transport) 계층

이 계층은 **종단 간(end-to-end) 통신의 신뢰성과 데이터 흐름 제어**를 담당합니다.
- 트랜스포트 계층 패킷 = `세그먼트(segment)`

**쉬운 예시:** 당신이 친구에게 여러 장의 편지를 보낼 때, 각 편지에 번호를 매겨서 순서대로 읽을 수 있게 하는 것과 같습니다. 또한 편지가 잘 도착했는지 확인하고, 분실된 편지는 다시 보내는 역할도 합니다.

트랜스포트 프로토콜의 두 가지 종류로는 다음과 같으며, **이들은 애플리케이션 계층 메시지를 전달한다.**

- TCP: 연결 지향형, 신뢰성 있는 전송 (데이터 손실 없음)
    - 웹 브라우징, 이메일, 파일 전송에 사용
- UDP: 비연결형, 신뢰성 없는 전송 (빠르지만 데이터 손실 가능)
    - 실시간 스트리밍, 온라인 게임, DNS 조회에 사용
- 포트 번호를 사용하여 특정 애플리케이션과 연결


	- 우리의 컴퓨터에서 트랜스포트 계층(TCP/UDP)이 데이터를 처리한 후:
	    - 메시지를 적절한 크기의 세그먼트로 나눕니다.
	    - 각 세그먼트에 목적지 컴퓨터의 포트 번호와 같은 정보를 추가합니다.
	    - 이 세그먼트와 목적지 IP 주소를 네트워크 계층에 전달합니다.
	- 네트워크 계층(IP)은:
	    - 받은 세그먼트에 IP 헤더(출발지와 목적지 IP 주소 포함)를 추가해 데이터그램으로 만듭니다.
	    - 라우팅 테이블을 확인하여 이 데이터그램을 어디로 보낼지 결정합니다.
	    - 인터넷의 여러 라우터를 통해 데이터그램이 목적지까지 가도록 안내합니다.
	    - 목적지 컴퓨터에 도착하면, 네트워크 계층은 세그먼트를 목적지 컴퓨터의 트랜스포트 계층에 전달합니다.

##### 5. 애플리케이션(Application) 계층

이 계층은 **사용자와 직접 상호작용하는 네트워크 애플리케이션**을 위한 계층입니다.

**쉬운 예시:** 당신이 친구와 대화하는 것과 같습니다. 이메일, 웹 브라우징, 파일 공유 등 실제로 사용자가 원하는 서비스를 제공합니다.

**주요 특징:**
- HTTP: 웹 페이지/문서 전송
- SMTP/POP3/IMAP: 이메일 서비스
- FTP: 두 종단 시스템 간의 파일 전송
- DNS (Domain name server): 도메인 이름을 IP 주소로 변환

## 데이터 전송 과정

웹사이트에 접속하는 과정을 예로 들어보겠습니다:

1. **애플리케이션 계층**: 웹 브라우저가 HTTP 요청 메시지를 생성
2. **트랜스포트 계층**: HTTP 메시지를 세그먼트로 나누고 TCP 헤더 추가
3. **네트워크 계층**: 세그먼트에 IP 헤더를 추가하여 데이터그램 생성
4. **링크 계층**: 데이터그램에 프레임 헤더와 트레일러 추가
5. **물리 계층**: 프레임의 비트를 전기/광/전파 신호로 변환하여 전송

수신측에서는 이 과정이 역순으로 진행됩니다.

## 계층 구조의 장점

1. **모듈화**: 각 계층이 독립적으로 동작하므로 한 계층의 변경이 다른 계층에 영향을 주지 않음
2. **유연성**: 필요에 따라 특정 계층의 프로토콜만 변경 가능
3. **표준화**: 각 계층별로 명확한 인터페이스가 정의되어 있어 서로 다른 제조사의 장비도 호환 가능
4. **학습과 이해의 용이성**: 복잡한 네트워크 시스템을 계층별로 나누어 이해하기 쉬움


캡슐화는 알아서 보세요 ...
