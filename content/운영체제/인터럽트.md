
### 인터럽트 

- CPU가 현재 수행중인 작업을 잠시 중단하고 더 중요한 작업을 처리하도록 요청하는 신호를 말한다

- 과거에는 `Thread.stop()`으로 스레드를 강제 종료할 수 있었음.
- **문제점:** 강제로 종료하면 사용 중이던 자원이 제대로 해제되지 않고, 프로그램 상태가 불안정해질 수 있음.
- 그래서 `stop()`은 **deprecated** 되었고, 대신 **인터럽트(interrupt)** 방식을 사용.


- **용도:** 스레드의 인터럽트 상태를 `false → true`로 바꾸는 **인터럽트 예약**
    
- **특징:**
    - 스레드를 **즉시 종료**시키지 않음
    - 스레드가 **sleep(), wait(), join()** 같은 일시 정지 상태로 들어갈 때 **InterruptedException 발생**

## "인터럽트를 예약"한다는 것

- `t.interrupt()`를 호출하면, **그 스레드의 "인터럽트 플래그"**가 `true`로 바뀝니다.
- 이건 “지금 당장 멈춰!”가 아니라 **“멈출 준비를 해라”라는 신호만 남기는 것**이에요.
- 이 플래그는 **스레드가 직접 확인하거나**, JVM이 특정 메소드에서 자동으로 확인합니다.
    
---
##  언제 예외가 던져지는가

- `sleep()`, `wait()`, `join()` 같은 **블로킹 메소드**가 나오면 인터럽트 예약했는지 체크. 

	예약을 했다면 
    1. **`InterruptedException` 예외를 던진다.**
    2. -> 여기서 이제 개발자가 다른 작업을 하던, 원하는 기능을 수행하던 하는 것. 
        
- 예외를 던지는 건 “예약된 인터럽트가 처리됐다”는 표시이며, **그 시점에서 스레드 실행 흐름이 바뀌는** 겁니다.

---
## 예외가 발생하면 무조건 종료되는가?

- **아니요.** 예외가 발생했다고 해서 자동으로 스레드가 죽지는 않아요.
- 예외는 **단지 흐름을 바꿔서** `catch` 블록으로 보내줄 뿐입니다.
- 종료는 **개발자가 예외 처리에서 `return`하거나 break를 해서** 스레드 run() 메소드를 끝내야 합니다.

---
## “예외를 던진다” = “인터럽트를 수행하러 간다”?

- 엄밀히 말하면, 예외를 던지는 건 “예약된 인터럽트 요청을 반영하는 동작”입니다.
- 이게 마치 "스레드가 인터럽트 수행하러 간다"처럼 보이지만,
- 실상은 **JVM이 해당 메소드 호출부를 강제로 끊고** 예외를 발생시키는 것
- 스레드가 직접 "내가 멈출게"라고 가는 게 아니라, "네가 멈춰야 해"라는 통보를 받은 상태

---

# **인터럽트가 무엇인지 설명해 주세요.**

답변 : 인터럽트라는건 현재 진행하는 일보다 더 중요한 일이라고 판단되는 경우, 예상치 못한 사건이 발생했을때, Trap 을 발생시켜서 작업먼저 처리하게된다. 이때 진행중이던 작업은 바로 멈추는게 아니라 sleep 같은 중지상태, 대기상태로 변환될때까지 기다렸다가 변환되면 이제 기존에 하던 작업은 저장해놓고 중요한 일 부터 처리.

ex) 키보드 입력같은 작업.

- 인터럽트는 어떻게 처리하나요?
    
    - 이벤트가 발생하면 프로그램이 CPU에 인터럽트 신호를 보낸다.
    - CPU 현재 작업중인 상태를 저장해둔다. 레지스터, 프로그램 카운터 등
    - 어떤 인터럽트인지 확인한다.
    - 인터럽트 서비스 루틴을 실행시킨다.
        - 해당 인터럽트를 처리하는 커널 코드를 실행하는것.
    - 저장했던 CPU 정보들을 복원하고 나머지 작업을 처리한다.
- Polling 방식에 대해 설명해 주세요.
    
    - Poling 방식이란 CPU 가 주기적으로 장치의 상태를 계속 확인하는 방법.
    - 이벤트가 발생했는지 안했는지 지속적으로 체크하는 것.
    - 구조는 단순하나, CPU 자원을 계속 보고있어야하니까 낭비가됨.
    
    <aside> 💡
    
    그래서 인터럽트가 좋은것.
    
    근본적인 차이는 CPU가 이벤트를 어떻게 감지를 하느냐 차이.
    
    인터럽트는 장치에서 직접 CPU 에 알리므로 계속 보고있을 필요가 없음.
    
    그러나 Poling 방식은 CPU 가 계속 보는거라 낭비.
    
    </aside>
    
- HW / SW 인터럽트에 대해 설명해 주세요.
    
    - HW 인터럽트
        - 하드웨어 장치에서 이벤트가 발생해서 CPU 에 알리는 신호
    - SW 인터럽트
        - 프로그램에서 이벤트가 발생해서 CPU 에 보내는 신호
        - 시스템콜, 예외 등이 여기에 속함.
- 동시에 두 개 이상의 인터럽트가 발생하면, 어떻게 처리해야 하나요?
    
    - 운영체제와 CPU는 우선순위를 통해서 인터럽트를 처리한다.
    - 만약 지금 하는 인터럽트 과정보다 발생한 인터럽트가 더 우선순위가 높다면 지금 하는 과정도 저장해놓고
    - 다시 depth 를 깊게 들어가는것. 만약 우선순위가 동일하다면 먼저온것부터 처리한다.