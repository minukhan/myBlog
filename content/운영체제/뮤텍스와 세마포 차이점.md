
### 뮤텍스와 세마포의 차이점은?? 

- 뮤텍스와 세마포는 여러 프로세스나 스레드가 동시에 공유자원에 접근하는걸 막아서 데이터의 일관성을 유지하는 역할을 한다. 
- 동기화 기법

##### 가장 큰 차이점 ? 

- 접근 가능한 개체의 수에 있다. 

#### 뮤텍스 

- 오직 하나만 허용하는 자물쇠와 같다. 
- 하나의 스레드만이 이 공유자원에 접근할 수 있으며 해당 스레드가 자물쇠를 해제해야 접근 가능
- 자원을 소유하고 책임을 가진다. 

#### 세마포

- 여러개를 허용한다.
- 빈 주차공간과 같다. 
- 정해진 개수 (N) 의 스레드 만이 공유 자원에 접근할 수 있다. 
- 접근할 때마다 카운트가 1씩 감소하고 자원을 해제하면 1 증가되는 그런 방식. 
- 만약 카운트가 0이라면 접근 불가. 

#### 이진 세마포랑 뮤텍스의 차이? 

- 이진 세마포어는 카운트가 1인 세마포어임. 
- 그래서 0, 1밖에 없어서 뮤텍스와 매우 유사하게 동작한다. 

#### 그래서 뭐가 다른데? 

- Lock 을 뮤텍스는 소유한 스레드만이 풀 수 있는데 이진 세마포는 다른 스레드가 Lock 을 해제할 수 있음. 

#### 근데 Lock 을 다른쪽에서 풀 수 있다면 문제 생기는거 아님?

- 그래서 이진 세마포어는 사용목적을 잘 파악해야한다. 
- 보통 뮤텍스나, 이진 세마포를 사용할때 결정하는건 사용목적에 따라 다르다. 
- 그냥 자원 보호가 필요없고 다른사람이 Lock 을 해제하는게 더 좋을때 이진 세마포를 사용하고 
- 만약 자원 보호가 중요하다면 뮤텍스를 사용한다. 

### Lock을 얻기 위해 대기하는 프로세스들은 Spin Lock 기법을 사용할 수 있습니다. 이 방법의 장단점은 무엇인가요? 단점을 해결할 방법은 없을까요?


#### 스핀락이란?

- Lock 을 얻지 못한 스레드가 휴면 상태에 들어가지 않고 Lock이 해제될 떄까지 반복적으로 확인하면서 대기하는 방식. 

##### 장점 

- 빠른 응답속도, Lock 이 빠르게 해제될 것이라고 예상될 때, 스레드를 재우고 깨우는데 드는 컨텍스트 스위칭 비용이 없어서 더 빠름. 

##### 단점

- Lock 이 오랫동안 해제되지 않으면 CPU 자원을 쓸모없이 소모. 이는 성능 저하까지 연결된다. 
- 특히 코어가 하나인 시스템에서 비효율적이다. 

#### 그래서 적응형 뮤텍스가 나옴. 

- 스핀락과 일반적인 뮤텍스의 장점을 결합한 방식을 말한다. 
- 스핀락처럼 잠시 대기하다가 일정시간동안 Lock 을 얻지 못하면 휴면으로 전환한다. 


### 뮤텍스와 세마포는 커널이 관리한다.

- Lock 을 획득하고 방출하는 과정에서 시스템 콜을 통해서 커널에 요청해야한다. 

##### 장점 

- 운영체제가 직접 스케쥴링을 관리해서 프로세스 간에 동기화를 안전하게 처리 가능. 

##### 단점

- 오버헤드 : 사용자 모드에서 커널모드로 바꾸는 시스템콜은 비용이 많이 드는 작업이다. 
- Lock 을 얻고 해제하는 빈도가 높으면 시스템 콜로 오버헤드가 매우 커진다. 


#### 그래서 나온 해결방안? 

- 사용자 레벨 동기화
	- 커널의 개입 없이 사용자 공간에서 동기화를 처리하는 방식. 
	- 원자적 연산을 사용하면 시스템 콜 없이 빠르게 동기화문제를 해결한다. 
		- 그러나 이 방법은 복잡하고, 스핀락처럼 CPU 를 낭비할 수 있는 단점이있음. 

- 적응형 뮤텍스가 커널 레벨과 사용자 레벨 방식의 장점을 결합한 좋은 예시임. 



### 뮤텍스와 세마포가 왜 나왔나

- 기존에 있는 알고리즘이 쭉 나왔다

- 이거를 